import{r as L,L as zr,M as Ur,e as qr,d as de,N as Dn,c as $,O as q,P as X,z as T,o as Ln,Q as Hr,R as Jr,S as Gr,T as Kr,U as Qr,V as Yr,W as Zr,H as Xr,X as ei,Y as ti,t as ni,v as ri,A as Xe,C as ii,D as oi,x as dn,B as fn,_ as ai}from"./C8-PzCqa.js";import{a as Wn,r as pt,g as On,b as si,i as ci,o as Nn,c as Pe,u as Fn,d as Vn,e as $n,f as ui,h as jn,j as ht,k as ae,w as zn,l as li,n as ee,m as Un,p as se,q as di,v as et,x as fi,t as Ce,y as pn,z as gt,A as pi,B as hn,C as hi,D as gi,E as mi,F as vi,G as gn}from"./BuLWTQJ-.js";import{d as Zt,e as qn,o as yi,B as wi,f as Ci,r as Si,g as bi,h as _i}from"./DIaV-xco.js";import{S as Ii,b as Ti}from"./BPOvu2V4.js";import{u as xi}from"./B84cnwqC.js";import{F as ki}from"./CugIzq5t.js";import Ai from"./A2T-mcys.js";import Ei from"./kUq-PjqJ.js";import"./8UUFJmno.js";import"./D9852THk.js";function Mi(e,t,n){let r,i=0;const o=e.scrollLeft,a=n===0?1:Math.round(n*1e3/16);function c(){Wn(r)}function l(){e.scrollLeft+=(t-o)/a,++i<a&&(r=pt(l))}return l(),c}function Pi(e,t,n,r){let i,o=On(e);const a=o<t,c=n===0?1:Math.round(n*1e3/16),l=(t-o)/c;function h(){Wn(i)}function v(){o+=l,(a&&o>t||!a&&o<t)&&(o=t),si(e,o),a&&o<t||!a&&o>t?i=pt(v):r&&(i=pt(r))}return v(),h}function Ri(){const e=L([]),t=[];return zr(()=>{e.value=[]}),[e,r=>(t[r]||(t[r]=i=>{e.value[r]=i}),t[r])]}function Hn(e,t){if(!ci||!window.IntersectionObserver)return;const n=new IntersectionObserver(o=>{t(o[0].intersectionRatio>0)},{root:document.body}),r=()=>{e.value&&n.observe(e.value)},i=()=>{e.value&&n.unobserve(e.value)};Ur(i),qr(i),Nn(r)}const[Bi,Di]=Pe("sticky"),Li={zIndex:ee,position:Un("top"),container:Object,offsetTop:se(0),offsetBottom:se(0)};var Wi=de({name:Bi,props:Li,emits:["scroll","change"],setup(e,{emit:t,slots:n}){const r=L(),i=Fn(r),o=Dn({fixed:!1,width:0,height:0,transform:0}),a=L(!1),c=$(()=>Vn(e.position==="top"?e.offsetTop:e.offsetBottom)),l=$(()=>{if(a.value)return;const{fixed:f,height:d,width:u}=o;if(f)return{width:`${u}px`,height:`${d}px`}}),h=$(()=>{if(!o.fixed||a.value)return;const f=$n(ui(e.zIndex),{width:`${o.width}px`,height:`${o.height}px`,[e.position]:`${c.value}px`});return o.transform&&(f.transform=`translate3d(0, ${o.transform}px, 0)`),f}),v=f=>t("scroll",{scrollTop:f,isFixed:o.fixed}),g=()=>{if(!r.value||ht(r))return;const{container:f,position:d}=e,u=ae(r),w=On(window);if(o.width=u.width,o.height=u.height,d==="top")if(f){const m=ae(f),z=m.bottom-c.value-o.height;o.fixed=c.value>u.top&&m.bottom>0,o.transform=z<0?z:0}else o.fixed=c.value>u.top;else{const{clientHeight:m}=document.documentElement;if(f){const z=ae(f),I=m-z.top-c.value-o.height;o.fixed=m-c.value<u.bottom&&m>z.top,o.transform=I<0?-I:0}else o.fixed=m-c.value<u.bottom}v(w)};return q(()=>o.fixed,f=>t("change",f)),jn("scroll",g,{target:i,passive:!0}),Hn(r,g),q([zn,li],()=>{!r.value||ht(r)||!o.fixed||(a.value=!0,X(()=>{const f=ae(r);o.width=f.width,o.height=f.height,a.value=!1}))}),()=>{var f;return T("div",{ref:r,style:l.value},[T("div",{class:Di({fixed:o.fixed&&!a.value}),style:h.value},[(f=n.default)==null?void 0:f.call(n)])])}}});const Oi=di(Wi),[Ni,mn]=Pe("tabs");var Fi=de({name:Ni,props:{count:et(Number),inited:Boolean,animated:Boolean,duration:et(ee),swipeable:Boolean,lazyRender:Boolean,currentIndex:et(Number)},emits:["change"],setup(e,{emit:t,slots:n}){const r=L(),i=c=>t("change",c),o=()=>{var c;const l=(c=n.default)==null?void 0:c.call(n);return e.animated||e.swipeable?T(Ii,{ref:r,loop:!1,class:mn("track"),duration:+e.duration*1e3,touchable:e.swipeable,lazyRender:e.lazyRender,showIndicators:!1,onChange:i},{default:()=>[l]}):l},a=c=>{const l=r.value;l&&l.state.active!==c&&l.swipeTo(c,{immediate:!e.inited})};return q(()=>e.currentIndex,a),Ln(()=>{a(e.currentIndex)}),Zt({swipeRef:r}),()=>T("div",{class:mn("content",{animated:e.animated||e.swipeable})},[o()])}});const[Jn,Ve]=Pe("tabs"),Vi={type:Un("line"),color:String,border:Boolean,sticky:Boolean,shrink:Boolean,active:se(0),duration:se(.3),animated:Boolean,ellipsis:Ce,swipeable:Boolean,scrollspy:Boolean,offsetTop:se(0),background:String,lazyRender:Ce,showHeader:Ce,lineWidth:ee,lineHeight:ee,beforeChange:Function,swipeThreshold:se(5),titleActiveColor:String,titleInactiveColor:String},Gn=Symbol(Jn);var $i=de({name:Jn,props:Vi,emits:["change","scroll","rendered","clickTab","update:active"],setup(e,{emit:t,slots:n}){let r,i,o,a,c;const l=L(),h=L(),v=L(),g=L(),f=qn(),d=Fn(l),[u,w]=Ri(),{children:m,linkChildren:z}=fi(Gn),I=Dn({inited:!1,position:"",lineStyle:{},currentIndex:-1}),ge=$(()=>m.length>+e.swipeThreshold||!e.ellipsis||e.shrink),Le=$(()=>({borderColor:e.color,background:e.background})),me=(p,y)=>{var b;return(b=p.name)!=null?b:y},We=$(()=>{const p=m[I.currentIndex];if(p)return me(p,I.currentIndex)}),ie=$(()=>Vn(e.offsetTop)),sn=$(()=>e.sticky?ie.value+r:0),ve=p=>{const y=h.value,b=u.value;if(!ge.value||!y||!b||!b[I.currentIndex])return;const B=b[I.currentIndex].$el,E=B.offsetLeft-(y.offsetWidth-B.offsetWidth)/2;a&&a(),a=Mi(y,E,p?0:+e.duration)},G=()=>{const p=I.inited;X(()=>{const y=u.value;if(!y||!y[I.currentIndex]||e.type!=="line"||ht(l.value))return;const b=y[I.currentIndex].$el,{lineWidth:B,lineHeight:E}=e,N=b.offsetLeft+b.offsetWidth/2,Y={width:pn(B),backgroundColor:e.color,transform:`translateX(${N}px) translateX(-50%)`};if(p&&(Y.transitionDuration=`${e.duration}s`),gt(E)){const Fe=pn(E);Y.height=Fe,Y.borderRadius=Fe}I.lineStyle=Y})},Dr=p=>{const y=p<I.currentIndex?-1:1;for(;p>=0&&p<m.length;){if(!m[p].disabled)return p;p+=y}},Oe=(p,y)=>{const b=Dr(p);if(!gt(b))return;const B=m[b],E=me(B,b),N=I.currentIndex!==null;I.currentIndex!==b&&(I.currentIndex=b,y||ve(),G()),E!==e.active&&(t("update:active",E),N&&t("change",E,B.title)),o&&!e.scrollspy&&pi(Math.ceil(hn(l.value)-ie.value))},Ne=(p,y)=>{const b=m.find((E,N)=>me(E,N)===p),B=b?m.indexOf(b):0;Oe(B,y)},cn=(p=!1)=>{if(e.scrollspy){const y=m[I.currentIndex].$el;if(y&&d.value){const b=hn(y,d.value)-sn.value;i=!0,c&&c(),c=Pi(d.value,b,p?0:+e.duration,()=>{i=!1})}}},Lr=(p,y,b)=>{const{title:B,disabled:E}=m[y],N=me(m[y],y);E||(Ci(e.beforeChange,{args:[N],done:()=>{Oe(y),cn()}}),Si(p)),t("clickTab",{name:N,title:B,event:b,disabled:E})},Wr=p=>{o=p.isFixed,t("scroll",p)},Or=p=>{X(()=>{Ne(p),cn(!0)})},Nr=()=>{for(let p=0;p<m.length;p++){const{top:y}=ae(m[p].$el);if(y>sn.value)return p===0?0:p-1}return m.length-1},Fr=()=>{if(e.scrollspy&&!i){const p=Nr();Oe(p)}},Vr=()=>{if(e.type==="line"&&m.length)return T("div",{class:Ve("line"),style:I.lineStyle},null)},un=()=>{var p,y,b;const{type:B,border:E,sticky:N}=e,Y=[T("div",{ref:N?void 0:v,class:[Ve("wrap"),{[wi]:B==="line"&&E}]},[T("div",{ref:h,role:"tablist",class:Ve("nav",[B,{shrink:e.shrink,complete:ge.value}]),style:Le.value,"aria-orientation":"horizontal"},[(p=n["nav-left"])==null?void 0:p.call(n),m.map(Fe=>Fe.renderTitle(Lr)),Vr(),(y=n["nav-right"])==null?void 0:y.call(n)])]),(b=n["nav-bottom"])==null?void 0:b.call(n)];return N?T("div",{ref:v},[Y]):Y},ln=()=>{G(),X(()=>{var p,y;ve(!0),(y=(p=g.value)==null?void 0:p.swipeRef.value)==null||y.resize()})};q(()=>[e.color,e.duration,e.lineWidth,e.lineHeight],G),q(zn,ln),q(()=>e.active,p=>{p!==We.value&&Ne(p)}),q(()=>m.length,()=>{I.inited&&(Ne(e.active),G(),X(()=>{ve(!0)}))});const $r=()=>{Ne(e.active,!0),X(()=>{I.inited=!0,v.value&&(r=ae(v.value).height),ve(!0)})},jr=(p,y)=>t("rendered",p,y);return Zt({resize:ln,scrollTo:Or}),Hr(G),yi(G),Nn($r),Hn(l,G),jn("scroll",Fr,{target:d,passive:!0}),z({id:f,props:e,setLine:G,scrollable:ge,onRendered:jr,currentName:We,setTitleRefs:w,scrollIntoView:ve}),()=>T("div",{ref:l,class:Ve([e.type])},[e.showHeader?e.sticky?T(Oi,{container:l.value,offsetTop:ie.value,onScroll:Wr},{default:()=>[un()]}):un():null,T(Fi,{ref:g,count:m.length,inited:I.inited,animated:e.animated,duration:e.duration,swipeable:e.swipeable,lazyRender:e.lazyRender,currentIndex:I.currentIndex,onChange:Oe},{default:()=>{var p;return[(p=n.default)==null?void 0:p.call(n)]}})])}});const ji=Symbol(),[zi,vn]=Pe("tab"),Ui=de({name:zi,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:ee,shrink:Boolean,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,inactiveColor:String,showZeroBadge:Ce},setup(e,{slots:t}){const n=$(()=>{const i={},{type:o,color:a,disabled:c,isActive:l,activeColor:h,inactiveColor:v}=e;a&&o==="card"&&(i.borderColor=a,c||(l?i.backgroundColor=a:i.color=a));const f=l?h:v;return f&&(i.color=f),i}),r=()=>{const i=T("span",{class:vn("text",{ellipsis:!e.scrollable})},[t.title?t.title():e.title]);return e.dot||gt(e.badge)&&e.badge!==""?T(hi,{dot:e.dot,content:e.badge,showZero:e.showZeroBadge},{default:()=>[i]}):i};return()=>T("div",{id:e.id,role:"tab",class:[vn([e.type,{grow:e.scrollable&&!e.shrink,shrink:e.shrink,active:e.isActive,disabled:e.disabled}])],style:n.value,tabindex:e.disabled?void 0:e.isActive?0:-1,"aria-selected":e.isActive,"aria-disabled":e.disabled||void 0,"aria-controls":e.controls},[r()])}}),[qi,tt]=Pe("tab"),Hi=$n({},bi,{dot:Boolean,name:ee,badge:ee,title:String,disabled:Boolean,titleClass:gi,titleStyle:[String,Object],showZeroBadge:Ce});var Ji=de({name:qi,props:Hi,setup(e,{slots:t}){const n=qn(),r=L(!1),i=ti(),{parent:o,index:a}=mi(Gn);if(!o)return;const c=()=>{var u;return(u=e.name)!=null?u:a.value},l=()=>{r.value=!0,o.props.lazyRender&&X(()=>{o.onRendered(c(),e.title)})},h=$(()=>{const u=c()===o.currentName.value;return u&&!r.value&&l(),u}),v=L(""),g=L("");Jr(()=>{const{titleClass:u,titleStyle:w}=e;v.value=u?Gr(u):"",g.value=w&&typeof w!="string"?Kr(Qr(w)):w});const f=u=>T(Ui,Xr({key:n,id:`${o.id}-${a.value}`,ref:o.setTitleRefs(a.value),style:g.value,class:v.value,isActive:h.value,controls:n,scrollable:o.scrollable.value,activeColor:o.props.titleActiveColor,inactiveColor:o.props.titleInactiveColor,onClick:w=>u(i.proxy,a.value,w)},gn(o.props,["type","color","shrink"]),gn(e,["dot","badge","title","disabled","showZeroBadge"])),{title:t.title}),d=L(!h.value);return q(h,u=>{u?d.value=!1:vi(()=>{d.value=!0})}),q(()=>e.title,()=>{o.setLine(),o.scrollIntoView()}),Yr(ji,h),Zt({id:n,renderTitle:f}),()=>{var u;const w=`${o.id}-${a.value}`,{animated:m,swipeable:z,scrollspy:I,lazyRender:ge}=o.props;if(!t.default&&!m)return;const Le=I||h.value;if(m||z)return T(Ti,{id:n,role:"tabpanel",class:tt("panel-wrapper",{inactive:d.value}),tabindex:h.value?0:-1,"aria-hidden":!h.value,"aria-labelledby":w},{default:()=>{var ie;return[T("div",{class:tt("panel")},[(ie=t.default)==null?void 0:ie.call(t)])]}});const We=r.value||I||!ge?(u=t.default)==null?void 0:u.call(t):null;return Zr(T("div",{id:n,role:"tabpanel",class:tt("panel"),tabindex:Le?0:-1,"aria-labelledby":w},[We]),[[ei,Le]])}}});const C=typeof window<"u"?window:void 0,ce=typeof document<"u"?document:void 0,H=typeof navigator<"u"?navigator:void 0,nt=typeof location<"u"?location:void 0;function J(){return(nt==null?void 0:nt.href)||""}function te(){return(ce==null?void 0:ce.title)||""}const ue=(H==null?void 0:H.userAgent)||"",Kn=(H==null?void 0:H.platform)||"";var Bn;const Qn=(Bn=ue==null?void 0:ue.match(/wxwork\/([\d.]+)/i))==null?void 0:Bn[1],M=!!Qn,Xt=!M&&/micromessenger/i.test(ue),en=/\bAndroid\b/i.test(ue),Yn=/Win/i.test(Kn),{isIOS:Zn,isMac:Gi}=Ki();function Ki(){const e=(H==null?void 0:H.maxTouchPoints)??1,t=/Mac/i.test(Kn);return t&&e>2?{isMac:!1,isIOS:!0}:{isMac:t,isIOS:/\b(iPhone|iPad|iPod)\b/i.test(ue)}}let Xn,Se,be;function Qi(e){if(!e.corpId)throw new Error("Missing corpId");Xn=e}function V(){return Xn}function Yi(){return Se}function Zi(e){Se=e}function er(){var e;return(e=Se==null?void 0:Se.getResult())==null?void 0:e.params}function Xi(){return be}function eo(e){be=e}function tr(){var e;return(e=be==null?void 0:be.getResult())==null?void 0:e.params}function to(){const e=V();return M&&(e!=null&&e.getAgentConfigSignature)?tr():er()}function nr(){const e=V();if(M&&(e!=null&&e.getAgentConfigSignature)){const n=tr();return n==null?void 0:n.corpid}const t=er();return t==null?void 0:t.appId}function rr(){const e=to();if(!e)return;const t=nr();return{appId:t,verifyAppId:t,verifySignType:"sha1",verifyTimestamp:e.timestamp,verifyNonceStr:e.nonceStr,verifySignature:e.signature}}const mt={config:"preVerifyJsApi",onMenuShareTimeline:"menu:share:timeline",onMenuShareAppMessage:"menu:share:appmessage",onMenuShareWechat:"menu:share:wechat",onMenuShareQQ:"menu:share:qq",onMenuShareWeibo:"menu:share:weiboApp",onMenuShareQZone:"menu:share:QZone",previewImage:"imagePreview",getLocation:"geoLocation",openProductSpecificView:"openProductViewWithPid",addCard:"batchAddCard",openCard:"batchViewCard",chooseWXPay:"getBrandWCPayRequest",openEnterpriseRedPacket:"getRecevieBizHongBaoRequest",startSearchBeacons:"startMonitoringBeacons",stopSearchBeacons:"stopMonitoringBeacons",onSearchBeacons:"onBeaconsInRange",consumeAndShareCard:"consumedShareCard",openAddress:"editAddress",getBrandWCPayRequest:"getBrandWCPayRequest"},ir={};for(const e of Object.keys(mt))ir[mt[e]]=e;function no(e){return mt[e]||e}function or(e){return ir[e]||e}function Te(e){return e.map(no)}function ro(...e){console.error("[wwsdk]",...e)}const io=J();function oo(e,t){const n=(e==null?void 0:e.split("."))||[],r=(t==null?void 0:t.split("."))||[];for(let i=0,o=Math.max(n.length,r.length);i<o;i++){const a=parseInt(n[i])||0,c=parseInt(r[i])||0;if(a>c)return 1;if(a<c)return-1}return 0}function ao(e){if(typeof Buffer<"u")return Buffer.from(e).toString("base64");let t="";const n=new Uint8Array(e),r=n.byteLength;for(let i=0;i<r;i++)t+=String.fromCharCode(n[i]);return btoa(t)}function vt(e){if(typeof Buffer<"u")return Buffer.from(e,"base64").buffer;const t=atob(e),n=t.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=t.charCodeAt(i);return r.buffer}function x(e,t,n){if(ar(e))try{return e.call(n,t)}catch(r){ro(r)}}function yn(e,t){return e.slice(0,t.length)===t}function xe(e){return e?io.split("#")[0]:J().split("#")[0]}function tn(e){return Re(e)?e.slice(e.indexOf(":")+1):""}function fe(e){return e===!1||e===0}function so(e){return!!e&&typeof e=="object"}function ar(e){return typeof e=="function"}function Re(e){return typeof e=="string"}function we(e){return e&&(Re(e)?e:e.join(";"))}let ke=!!(C!=null&&C.WeixinJSBridge),He=Promise.resolve();async function A(e,t){ke||await He,C.WeixinJSBridge.on(e,t)}async function _(e,t={},n){ke||await He;const r=await new Promise(o=>{const a={...t,...rr()};C.WeixinJSBridge.invoke(e,a,o)});r.errMsg||(r.errMsg=co(e,r.err_msg||r.errmsg));const i=tn(r.errMsg);if(r.errCode==null&&(r.errCode=r.err_code!=null?r.err_code:i==="ok"?0:-1),x(n,r),i!=="ok"&&i!=="yes")throw r;return r}function co(e,t){const n=or(e);if(!t)return`${n}:ok`;let r=tn(t);return r==="confirm"&&(r="ok"),r==="failed"&&(r="fail"),yn(r,"failed_")&&(r=r.slice(7)),yn(r,"fail_")&&(r=r.slice(5)),r=r.replace(/_/g,"").toLowerCase(),r!=="access denied"&&r!=="no permission to execute"||(r="permission denied"),n==="config"&&r==="function not exist"&&(r="ok"),r||(r="fail"),`${n}:${r}`}ke||(He=new Promise(e=>{ce==null||ce.addEventListener("WeixinJSBridgeReady",()=>{ke=!0,e()})}));class ne extends Error{constructor(t){super(`SDK Error: ${t}`)}}class Ae extends ne{constructor(){super("Aborted")}}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const sr=1,uo=2;class cr{checkValid(){return M&&this.url!==xe(this.useOriginalURL)&&(this.error=new Ae),!this.error}getResult(){if(this.checkValid())return this.result}async awaitPromise(t){try{return this.result=await t,this.result}catch(n){throw this.error=n,n}}constructor(t,n){k(this,"type",void 0),k(this,"url",void 0),k(this,"promise",void 0),k(this,"result",void 0),k(this,"error",void 0),k(this,"useOriginalURL",void 0),this.type=t,this.useOriginalURL=Xt&&!Yn&&!Gi&&t===sr,this.url=xe(this.useOriginalURL),this.promise=this.awaitPromise(n(this.url))}}async function Je(){const e=Yi();if(e!=null&&e.checkValid())return e.promise;const t=new cr(sr,async n=>{const r=V();if(!(r!=null&&r.getConfigSignature))throw new ne("Missing getConfigSignature");const i=await r.getConfigSignature(n);if(!t.checkValid())throw new Ae;const o=lo(r,i),a=await _("preVerifyJSAPI",{appId:o.appId,verifyJsApiList:o.jsApiList,verifyOpenTagList:o.openTagList,verifyAppId:o.appId,verifySignType:"sha1",verifyTimestamp:o.timestamp,verifyNonceStr:o.nonceStr,verifySignature:o.signature});if(!t.checkValid())throw new Ae;return{params:o,result:a}});return t.promise.then(n=>{const r=V();x(r==null?void 0:r.onConfigSuccess,n.result),x(r==null?void 0:r.onConfigComplete,n.result)},n=>{const r=V();x(r==null?void 0:r.onConfigFail,n),x(r==null?void 0:r.onConfigComplete,n)}),Zi(t),t.promise}function lo(e,t){return{appId:e.corpId,timestamp:`${t.timestamp}`,nonceStr:t.nonceStr,signature:t.signature,jsApiList:Te(e.jsApiList||["config"]),openTagList:Te(e.openTagList||[])}}async function Ee(){const e=Xi();if(e!=null&&e.checkValid())return e.promise;const t=new cr(uo,async n=>{let r;M&&oo(Qn,"3.0.24")<0&&(r=Je());const[i]=await Promise.all([Ge(n),r]);if(!t.checkValid())throw new Ae;const o=await _("agentConfig",i);if(!t.checkValid())throw new Ae;return{params:i,result:o}});return t.promise.then(n=>ur(n.result),n=>lr(n)),eo(t),t.promise}async function Ge(e){const t=V();if(!(t!=null&&t.getAgentConfigSignature))throw new ne("Missing getAgentConfigSignature");const n=await t.getAgentConfigSignature(e);return{corpid:t.corpId,agentid:`${t.agentId}`,timestamp:`${n.timestamp}`,nonceStr:n.nonceStr,signature:n.signature,jsApiList:Te(t.jsApiList||["agentConfig"])}}function ur(e){const t=V();x(t==null?void 0:t.onAgentConfigSuccess,e),x(t==null?void 0:t.onAgentConfigComplete,e)}function lr(e){const t=V();x(t==null?void 0:t.onAgentConfigFail,e),x(t==null?void 0:t.onAgentConfigComplete,e)}function fo(){const e=V();return M&&(e!=null&&e.getAgentConfigSignature)?Ee():Je()}function P(){const e=V();if(e)return M&&e.getAgentConfigSignature?Ee():e.getConfigSignature?Je():void 0}function dr(e){Qi(e),(Xt||M)&&P()}async function s(e,t,n=t){return R(t,async()=>(await P(),_(e,n)))}async function pe(e,t,n){await P(),A(e,()=>{R(t,n)})}function R(e,t){return t(e).then(n=>(x(e==null?void 0:e.success,n),x(e==null?void 0:e.complete,n),n),n=>{throw x(tn(n.errMsg)==="cancel"?e==null?void 0:e.cancel:e==null?void 0:e.fail,n),x(e==null?void 0:e.complete,n),n})}var yt,wt,Ct,St,bt,_t,It,Tt,xt,kt,At,Et,Mt,Pt,Rt,Bt,Dt,Lt,Wt,Ot,Nt,Ft,Vt,$t,jt,zt,Ut;function po(e={}){return s("startMonitoringBeacons",e)}function ho(e={}){return s("stopMonitoringBeacons",e)}function go(e){A("onBeaconsInRange",e)}function mo(e){return s("createBLEConnection",e)}function vo(e){return s("closeBLEConnection",e)}function yo(e){A("onBLEConnectionStateChange",e)}function wo(e){return s("getBLEDeviceServices",e)}function Co(e){return s("getBLEDeviceCharacteristics",e)}function So(e){return s("readBLECharacteristicValue",e)}function bo(e){return s("writeBLECharacteristicValue",e,{deviceId:e.deviceId,serviceId:e.serviceId,characteristicId:e.characteristicId,value:ao(e.value)})}function _o(e){return s("notifyBLECharacteristicValueChange",e)}function Io(e){A("onBLECharacteristicValueChange",t=>{typeof(t==null?void 0:t.value)=="string"&&(t.value=vt(t.value)),e(t)})}function To(e={}){return s("openBluetoothAdapter",e)}function xo(e={}){return s("closeBluetoothAdapter",e)}function ko(e={}){return s("getBluetoothAdapterState",e)}function Ao(e){A("onBluetoothAdapterStateChange",e)}function Eo(e={}){return s("startBluetoothDevicesDiscovery",e)}function Mo(e={}){return s("stopBluetoothDevicesDiscovery",e)}function Po(e={}){return R(e,async()=>{await P();const t=await _("getBluetoothDevices");for(const n of t.devices||[])fr(n);return t})}function Ro(e){A("onBluetoothDeviceFound",t=>{for(const n of t.devices||[])fr(n);e(t)})}function Bo(e){return s("getConnectedBluetoothDevices",e)}function fr(e){if(typeof e.advertisData=="string"&&(e.advertisData=vt(e.advertisData)),e.serviceDataV2){const t=e.serviceDataV2;for(const n of Object.keys(t))typeof t[n]=="string"&&(t[n]=vt(t[n]));e.serviceData=t,delete e.serviceDataV2}}function Do(e){return s("setClipboardData",e)}function Lo(e={}){return s("getClipboardData",e)}function Wo(e){return s("startBeaconDiscovery",e)}function Oo(e={}){return s("stopBeaconDiscovery",e)}function No(e={}){return s("getBeacons",e)}function Fo(e){A("onBeaconUpdate",e)}function Vo(e){A("onBeaconServiceChange",e)}function $o(e){return s("openLocation",e,{latitude:e.latitude,longitude:e.longitude,name:e.name||"",address:e.address||"",scale:e.scale||28,infoUrl:e.infoUrl||""})}function jo(e={}){return R(e,async()=>{await P();const t=await _("geoLocation",{type:e.type||"wgs84"});return delete t.type,t})}function zo(e){return s("startAutoLBS",e)}function Uo(e={}){return s("stopAutoLBS",e)}function qo(e){A("auto:location:report",e)}function Ho(e={}){return s("getNetworkType",e)}function Jo(e){A("onNetworkStatusChange",e)}function Go(e={}){return s("startWifi",e)}function Ko(e={}){return s("stopWifi",e)}function Qo(e){return s("connectWifi",e)}function Yo(e={}){return s("getWifiList",e)}function Zo(e){A("onGetWifiList",e)}function Xo(e){A("onWifiConnected",e)}function ea(e={}){return s("getConnectedWifi",e)}function ta(e){return s("previewFile",e)}function na(e){return s("chooseMessageFile",e)}function ra(e){return s("getLocalFileData",e)}function ia(e={}){return R(e,async()=>{await P();const t=await _("chooseImage",{scene:"1|2",count:e.count||9,sizeType:e.sizeType||["original","compressed"],sourceType:e.sourceType||["album","camera"],defaultCameraMode:e.defaultCameraMode||"normal",isSaveToAlbum:fe(e.isSaveToAlbum)?0:1});if(en&&t.localIds){t.localIds=t.localIds||"[]";try{t.localIds=JSON.parse(t.localIds)}catch{}}return t})}function oa(e){return s("imagePreview",e)}function aa(e){return s("uploadImage",e,{localId:e.localId,isShowProgressTips:fe(e.isShowProgressTips)?0:1})}function sa(e){return s("downloadImage",e,{serverId:e.serverId,isShowProgressTips:fe(e.isShowProgressTips)?0:1})}function ca(e){return s("getLocalImgData",e)}function ua(e={}){return s("startRecord",e)}function la(e={}){return s("stopRecord",e)}function da(e){A("onVoiceRecordEnd",e)}function fa(e){return s("playVoice",e)}function pa(e){return s("pauseVoice",e)}function ha(e){return s("stopVoice",e)}function ga(e){A("onVoicePlayEnd",e)}function ma(e){return s("uploadVoice",e,{localId:e.localId,isShowProgressTips:fe(e.isShowProgressTips)?0:1})}function va(e){return s("downloadVoice",e,{serverId:e.serverId,isShowProgressTips:fe(e.isShowProgressTips)?0:1})}function ya(e){return s("translateVoice",e,{localId:e.localId,isShowProgressTips:fe(e.isShowProgressTips)?0:1})}function wa(e={}){return s("startLiving",e)}function Ca(e){return s("replayLiving",e)}function Sa(e){return s("downloadLivingReplay",e)}function ba(e={}){return s("startMeeting",e)}function _a(e){return s("createDoc",e)}function Ia(e){return s("wedocSelectDoc",e)}function Ta(e={}){return s("wedriveSelectDir",e)}function xa(e){return s("wedriveSelectFile",e)}function ka(e){return s("wedriveSelectFileForShare",e)}function Aa(e){return s("wedriveSelectFileForDownload",e)}function Ea(e){A("historyBack",e)}function Ma(e={}){return s("hideOptionMenu",e)}function Pa(e={}){return s("showOptionMenu",e)}function Ra(e={}){return s("closeWindow",e)}function Ba(e){return s("hideMenuItems",e)}function Da(e){return s("showMenuItems",e)}function La(e={}){return s("hideAllNonBaseMenuItem",e)}function Wa(e={}){return s("showAllNonBaseMenuItem",e)}function Oa(e){return s("openDefaultBrowser",e)}function Na(e){A("onUserCaptureScreen",e)}function Fa(e){pe("menu:share:appmessage",e,()=>_("sendAppMessage",{title:e.title||te(),desc:e.desc||"",link:e.link||J(),img_url:e.imgUrl||"",type:e.type||"link",data_url:e.dataUrl||"",finder_feed:e.finderFeed||e.finder_feed,finder_topic:e.finderTopic||e.finder_topic,finder_profile:e.finderProfile||e.finder_profile,enableIdTrans:e.enableIdTrans?1:0}))}function Va(e){pe("menu:share:timeline",e,()=>_("shareTimeline",{title:e.title||te(),desc:e.title||te(),img_url:e.imgUrl||"",link:e.link||J(),type:e.type||"link",data_url:e.dataUrl||"",enableIdTrans:e.enableIdTrans?1:0}))}function $a(e){pe("menu:share:wechat",e,()=>_("shareWechat",{title:e.title||te(),desc:e.desc||"",link:e.link||J(),img_url:e.imgUrl||"",type:e.type||"link",data_url:e.dataUrl||"",enableIdTrans:e.enableIdTrans?1:0}))}function ja(e){pe("menu:share:qq",e,()=>_("shareQQ",{title:e.title||te(),desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||J()}))}function za(e){pe("menu:share:weiboApp",e,()=>_("shareWeiboApp",{title:e.title||te(),desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||J()}))}function Ua(e){pe("menu:share:QZone",e,()=>_("shareQZone",{title:e.title||te(),desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||J()}))}function qa(e){return s("shareAppMessage",e)}function Ha(e){return s("shareWechatMessage",e)}function Ja(e={}){return s("updateTimelineShareData",e)}function Ga(e={}){return s("updateAppMessageShareData",e)}function Ka(e){return R(e,async()=>{await P();const t=await _("batchAddCard",{card_list:e.cardList.map(n=>({card_id:n.cardId,card_ext:n.cardExt}))});if(!t.card_list)return t;for(const n of t.card_list)n.cardId=n.card_id,delete n.card_id,n.cardExt=n.card_ext,delete n.card_ext,n.isSuccess=!!n.is_succ,delete n.is_succ;return t.cardList=t.card_list,delete t.card_list,t})}function Qa(e){return R(e,async()=>{await P();const t=await _("chooseCard",{app_id:nr(),location_id:e.shopId||"",sign_type:e.signType||"SHA1",card_id:e.cardId||"",card_type:e.cardType||"",card_sign:e.cardSign,time_stamp:`${e.timestamp}`,nonce_str:e.nonceStr});return t.cardList=t.choose_card_info,delete t.choose_card_info,t})}function Ya(e){return s("batchViewCard",e,{card_list:e.cardList.map(t=>({card_id:t.cardId,code:t.code}))})}function Za(e){return s("consumedShareCard",e,{consumedCardId:e.cardId,consumedCode:e.code})}function Xa(e){return s("openProductViewWithPid",e,{pid:e.productId,view_type:e.viewType||0,ext_info:e.extInfo})}function es(e){return s("getBrandWCPayRequest",e,pr(e))}function ts(e){return s("getRecevieBizHongBaoRequest",e,pr(e))}function pr(e){return{timeStamp:`${e.timestamp}`,nonceStr:e.nonceStr,package:e.package,paySign:e.paySign,signType:e.signType||"SHA1"}}function ns(e){return s("addDevice",e)}async function rs(e){return R(e,async()=>{await P();const t=await _("checkJsApi",{jsApiList:Te(e.jsApiList)});if(typeof t.checkResult=="string")try{t.checkResult=JSON.parse(t.checkResult)}catch{t.checkResult={}}return t.checkResult=is(hr(t.checkResult)),t})}function is(e){const t={...e};for(const n of Object.keys(e))t[or(n)]=e[n];return t}function hr(e){const t={};for(const n of Object.keys(e)){if(!so(e[n])){t[n]=e[n];continue}const r=hr(e[n]);for(const i of Object.keys(r))t[`${n}.${i}`]=r[i]}return t}function os(e){return s("checkSchedule",e)}function as(e){return s("chooseInvoice",e)}function ss(e={}){return s("claimClassAdmin",e)}function cs(e){return s("createChatWithMsg",e)}function us(e){return s("createCorpGroupChat",e,{groupName:e.groupName||"",userIds:e.userIds,openUserIds:e.openUserIds,externalUserIds:e.externalUserIds,corpGroupUserIds:e.corpGroupUserIds})}function ls(e={}){return s("createExternalPayment",e)}function ds(e){return s("createSchoolPayment",e)}function fs(e){return s("discoverDevice",e)}function ps(e){return s("enterHWOpenTalk",e)}function hs(e={}){return s("enterpriseVerify",e)}function gs(e){return R(e,async()=>{await P();const t=await _("getApprovalSelectedItems",{key:e.key});if(!t.selectedData)return t;try{t.selectedData=JSON.parse(t.selectedData)}catch{t.selectedData=[]}return t})}function gr(e={}){return s("getContext",e)}function ms(e={}){return s("getCurCorpGroupChat",e)}function vs(e){return s("getCurCorpGroupContact",e)}function ys(e={}){return s("getCurExternalChat",e)}function ws(e={}){return s("getCurExternalContact",e)}function Cs(e){return s("getShareInfo",e)}function Ss(e){return s("hideChatAttachmentMenu",e)}function bs(e){return s("launchMiniprogram",e,{appid:e.appid,path:_s(e.path),envVersion:e.envVersion})}function _s(e){if(!e||!Re(e))return;const[t,...n]=e.split("?");return n.length?`${t}.html?${n.join("?")}`:`${t}.html`}function Is(e={}){return s("navigateToAddCustomer",e)}function Ts(e){return s("navigateToKfChat",e)}function xs(e={}){return R(e,async()=>{await P();const t=await _("editAddress");return t.postalCode=t.addressPostalCode,delete t.addressPostalCode,t.provinceName=t.proviceFirstStageName,delete t.proviceFirstStageName,t.cityName=t.addressCitySecondStageName,delete t.addressCitySecondStageName,t.countryName=t.addressCountiesThirdStageName,delete t.addressCountiesThirdStageName,t.detailInfo=t.addressDetailInfo,delete t.addressDetailInfo,t})}function ks(e={}){return s("openAppComment",e)}function As(e={}){return s("openAppDeviceDataAuth",e)}function Es(e={}){return s("openAppManage",e)}function Ms(e){return s("openAppPurchase",e)}function Ps(e){return R(e,async()=>{await P();const t=await _("openBusinessView",{businessType:e.businessType,queryString:e.queryString||"",envVersion:e.envVersion});if(!en||!t.extraData)return t;try{t.extraData=JSON.parse(t.extraData)}catch{t.extraData={}}return t})}function Rs(e){return s("openDeviceProfile",e)}function Bs(e={}){return s("openEnterpriseChat",e,{chatId:e.chatId||"",chatname:e.groupName||"",groupName:e.groupName||"",useridlist:we(e.userIds),userIds:we(e.userIds),openIds:we(e.openIds),externalUserIds:we(e.externalUserIds)})}function Ds(e){return s("openExistedChatWithMsg",e)}function Ls(e={}){return s("openThirdAppServiceChat",e)}function Ws(e){return s("openUserProfile",e)}function Os(e){return s("printFile",e)}function Ns(e={}){return s("queryCurrHWOpenTalk",e)}function Fs(e){return s("refundExternalPayment",e)}function Vs(e){return s("saveApprovalSelectedItems",e,{key:e.key,selectedData:typeof e.selectedData=="string"?e.selectedData:JSON.stringify(e.selectedData)})}function $s(e={}){return R(e,async()=>{var i;await P();const t=await _("scanQRCode",{needResult:e.needResult?1:0,scanType:e.scanType||["qrCode","barCode"]});if(!Zn)return t;const n=t.resultStr;if(!n)return t;let r;try{r=JSON.parse(n)}catch{}return t.resultStr=(i=r==null?void 0:r.scan_code)==null?void 0:i.scan_result,t})}function js(e){return R(e,async()=>{await P();const t=await _("selectCorpGroupContact",e);if(!Re(t.result))return t;try{t.result=JSON.parse(t.result)}catch{}return t})}function zs(e){return R(e,async()=>{await P();const t=await _("selectEnterpriseContact",e);if(!Re(t.result))return t;try{t.result=JSON.parse(t.result)}catch{}return t})}function Us(e={}){return s("selectExternalContact",e)}function qs(e){return s("selectPrivilegedContact",e)}function Hs(e){return s("sendChatMessage",e)}function Js(e={}){return s("setShareAttr",e)}function Gs(e){return s("shareToExternalChat",e)}function Ks(e){return s("shareToExternalContact",e)}function Qs(e){return s("shareToExternalMoments",e)}function Ys(e={}){return s("startWecast",e)}function Zs(e){return s("thirdPartyOpenPage",e)}function Xs(e){return s("updateCorpGroupChat",e)}function ec(e){return s("updateEnterpriseChat",e,{chatId:e.chatId,userIdsToAdd:we(e.userIdsToAdd)})}function tc(e){return s("updateMomentsSetting",e)}function nc(e){return s("setKeepScreenOn",e)}function mr(e={}){return R(e,async()=>{if(!M)return rc();const{result:t}=await Ee();if(!Yn&&!(C!=null&&C.WeixinSandBox))throw new ne("Missing WeixinSandBox");if(C!=null&&C.WWOpenData||await _("wwapp.initWwOpenData"),!(C!=null&&C.WWOpenData))throw new ne("Init WWOpenData failed");return C.WWOpenData.initJSSDK&&C.WWOpenData.initJSSDK({invoke:_,ensureAgentConfigReady:Ee}),t})}async function rc(){var n;if(!((n=C==null?void 0:C.WWOpenData)!=null&&n.agentConfig))throw new ne("Missing WWOpenData.agentConfig");const e=await Ge(xe()),t=new Promise((r,i)=>{C.WWOpenData.agentConfig({...e,success:r,fail:i})});return t.then(ur,lr),t}function Ke(e){const t=document.createElement("iframe"),{style:n}=t;n.display="block",n.border="none",n.background="transparent",t.referrerPolicy="origin",t.setAttribute("frameborder","0"),t.setAttribute("allowtransparency","true");const r=ic(e);return r&&r.appendChild(t),t}function ic(e){return typeof e=="string"?document.querySelector(e):e}(function(e){e.CLProximityUnknown="0",e.CLProximityImmediate="1",e.CLProximityNear="2",e.CLProximityFar="3"})(yt||(yt={})),function(e){e.wgs84="wgs84",e.gcj02="gcj02"}(wt||(wt={})),function(e){e.wifi="wifi",e.network2g="2g",e.network3g="3g",e.network4g="4g",e.none="none",e.unknown="unknown"}(Ct||(Ct={})),function(e){e.video="video",e.image="image",e.file="file",e.video_and_image="video_and_image"}(St||(St={})),function(e){e.video="video",e.image="image",e.file="file"}(bt||(bt={})),function(e){e.original="original",e.compressed="compressed"}(_t||(_t={})),function(e){e.album="album",e.camera="camera"}(It||(It={})),function(e){e.normal="normal",e.batch="batch",e.front="front",e.batch_front="batch_front"}(Tt||(Tt={})),function(e){e[e.common=0]="common",e[e.corp_training=1]="corp_training",e[e.edu_normal_class=2]="edu_normal_class",e[e.edu_small_class=3]="edu_small_class"}(xt||(xt={})),function(e){e[e.other=0]="other",e[e.doc=3]="doc",e[e.sheet=4]="sheet",e[e.form=5]="form",e[e.slide=6]="slide",e[e.mindmap=7]="mindmap",e[e.flowchart=8]="flowchart",e[e.smartsheet=10]="smartsheet"}(kt||(kt={})),function(e){e[e.normal=0]="normal",e[e.scan=1]="scan"}(At||(At={})),function(e){e[e.chat=0]="chat",e[e.qrcode=1]="qrcode"}(Et||(Et={})),function(e){e.contact_profile="contact_profile",e.single_chat_tools="single_chat_tools",e.group_chat_tools="group_chat_tools",e.chat_attachment="chat_attachment",e.single_kf_tools="single_kf_tools",e.chain_single_chat_tools="chain_single_chat_tools",e.chain_group_chat_tools="chain_group_chat_tools",e.internal_group_chat_board="internal_group_chat_board",e.normal="normal"}(Mt||(Mt={})),function(e){e.permission="permission",e.datazone_permission="datazone_permission"}(Pt||(Pt={})),function(e){e.release="release",e.trial="trial",e.develop="develop"}(Rt||(Rt={})),function(e){e[e.internal=1]="internal",e[e.external=2]="external"}(Bt||(Bt={})),function(e){e[e.mediaid=1]="mediaid",e[e.url=2]="url",e[e.localId=4]="localId"}(Dt||(Dt={})),function(e){e.None="None",e.HWOpenTalk="HWOpenTalk",e.VoIP="VoIP",e.SystemCall="SystemCall"}(Lt||(Lt={})),function(e){e.qrCode="qrCode",e.barCode="barCode"}(Wt||(Wt={})),function(e){e.single="single",e.multi="multi"}(Ot||(Ot={})),function(e){e.department="department",e.user="user"}(Nt||(Nt={})),function(e){e.single="single",e.multi="multi"}(Ft||(Ft={})),function(e){e.department="department",e.user="user"}(Vt||(Vt={})),function(e){e[e.all=0]="all",e[e.unselected=1]="unselected"}($t||($t={})),function(e){e.single="single",e.multi="multi"}(jt||(jt={})),function(e){e.create_approval="10001",e.view_approval="10002"}(zt||(zt={})),function(e){e.link="link",e.text="text"}(Ut||(Ut={}));const oc=vr();let $e,ac=0;function sc(){return`${oc}-${ac++}`}function vr(){return Math.random().toString(36).slice(2)}function cc(e){return e&&typeof e=="object"?{...e,message:e.message,stack:e.stack}:e}function wn(e){try{return typeof e=="string"?JSON.parse(e):e}catch{}}function uc(e,t){const n=new Map;return{invoke:function(r,i){return i!=null&&i.dropResult?(e({type:"ww-iframe-handle:call",args:r},i),Promise.resolve(void 0)):new Promise((o,a)=>{const c=sc();n.set(c,{resolve:o,reject:a}),e({type:"ww-iframe-handle:call",uid:c,args:r},i)})},handleCallMessage:async function(r,i){if(!r.uid)return t(r.args,i);try{e({type:"ww-iframe-handle:response",uid:r.uid,kind:"resolve",args:await t(r.args,i)})}catch(o){throw e({type:"ww-iframe-handle:response",uid:r.uid,kind:"reject",args:cc(o)}),o}},handleResponseMessage:function(r){const i=n.get(r.uid);i&&(i[r.kind](r.args),n.delete(r.uid))}}}function Qe(e,t,n){const r=[];let i=!1,o=!1;function a(d){if(d.origin!==t||e.contentWindow!==d.source)return;const u=wn(d.data);typeof(u==null?void 0:u.type)=="string"&&u.type.startsWith("ww-iframe-handle:")&&g(u,d)}window.addEventListener("message",a);const c=new MessageChannel;c.port1.onmessage=d=>{g(wn(d.data),d)};const{invoke:l,handleCallMessage:h,handleResponseMessage:v}=uc(function(d,u){i?f(d,u):r.push({msg:d,opts:u})},n);function g(d,u){switch(d.type){case"ww-iframe-handle:ready":return function(w){if(!i){i=!0,w.supportChannel&&(f({type:"ww-iframe-handle:set-port",port:c.port2},{transfer:[c.port2],serialize:!1}),o=!0);for(const m of r)f(m.msg,m.opts)}}(d);case"ww-iframe-handle:call":return h(d,u);case"ww-iframe-handle:response":return void v(d)}}function f(d,u){var m;const w=(u==null?void 0:u.serialize)===!1?d:JSON.stringify(d);o?c.port1.postMessage(w,u==null?void 0:u.transfer):(m=e.contentWindow)==null||m.postMessage(w,t,u==null?void 0:u.transfer)}return e.addEventListener("load",()=>{i||f({type:"ww-iframe-handle:init"})}),{el:e,invoke:l,dispose:function(){window.removeEventListener("message",a),c.port1.onmessage=null}}}async function lc(e){const t=V();if(!(t!=null&&t.getSuiteConfigSignature))throw new ne("Missing getSuiteConfigSignature");const n=await t.getSuiteConfigSignature(e);return{suiteid:t.suiteId,timestamp:`${n.timestamp}`,nonceStr:n.nonceStr,signature:n.signature,jsApiList:Te(t.jsApiList||["agentConfig"])}}function dc(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ye(e,t,n){x(t[e.name],e.payload||e.data,n)}function yr(){const e=new Map;return{subscribe:function(t,n){e.set(t,n)},handleMessage:function(t){var n;return(n=e.get(t.type))==null?void 0:n(t)}}}function wr(e,t){$e==null||$e();const n=Ke(document.body),{style:r}=n;r.position="fixed",r.left="0",r.top="0",r.zIndex="1000",r.width="100vw",r.height="100vh",n.classList.add("wecom-jssdk-modal"),n.setAttribute("src",e);const{origin:i}=new URL(e),o=Qe(n,i,c=>(c.type==="close"&&a(),t==null?void 0:t(c)));function a(){var c;o.dispose(),(c=n.parentNode)==null||c.removeChild(n)}return $e=a,o}const fc="https://login.work.weixin.qq.com";function pc(e,t){const n=Ke(t.el),{style:r}=n;r.width="100%",r.height="100%";const i=new Map,{subscribe:o,handleMessage:a}=yr(),{dispose:c}=Qe(n,fc,a);return o("call",l=>{Ye(l,t)}),o("getStaticOptions",()=>({name:e,options:{...t,el:void 0,params:void 0}})),o("jsapiCallback",l=>{if(!i.has(l.seq))return;const h=i.get(l.seq);i.delete(l.seq),x(l.kind==="success"?h==null?void 0:h.success:h==null?void 0:h.fail,l.payload),x(h==null?void 0:h.complete,l.payload)}),o("getJSAPIParams",async l=>{var g,f;const h=ar(t.params)?await t.params():t.params,v=xe();return i.set(l.seq,h),{webToken:t.webToken,url:v,configParams:(g=l.payload)!=null&&g.skipSignature?void 0:await hc(v,((f=l.payload)==null?void 0:f.preferSignatureTypeList)||["agentConfig"]),jsapi:e,jsapiParams:h}}),o("openModalFrame",l=>{wr(l.payload.url)}),n.style.opacity="0",n.src="https://login.work.weixin.qq.com/wwopen/ww-jsapi-transparent-frame",{el:n,unmount(){var l;c(),(l=n.parentNode)==null||l.removeChild(n)}}}const Cn={agentConfig:Ge,suiteConfig:lc};async function hc(e,t){let n=new Error("Missing signature handler");for(const r of t)try{if(!dc(Cn,r))continue;return{type:r,params:await Cn[r](e)}}catch(i){n=i}throw n}function qe(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function gc(e){return typeof e=="object"&&e!==null}function _e(e,t){return!!e&&e.indexOf(t)>=0}var Cr=Sr("Identifier","name"),Ie=Sr("Literal","value");function Sr(e,t){return function(n){var r;return(r={type:e})[t]=n,r}}function Ze(e){return Me(e,65,90)||Me(e,97,122)||e===36||e===95}function mc(e){return Ze(e)||le(e)}function le(e){return Me(e,48,57)}function vc(e){return le(e)||Me(e,65,70)||Me(e,97,102)}function Me(e,t,n){return e>=t&&e<=n}for(var Sn={null:null,true:!0,false:!1,NaN:NaN,Infinity:1/0},yc="await break case catch class const continue debugger default delete do else enum export extends false finally for function if import in instanceof new null return super switch this throw true try typeof var void while with yield".split(" "),br={},rt=0,bn=yc;rt<bn.length;rt++){var wc=bn[rt];br[wc]=!0}function Cc(e){var t=_r(e);return qe(Sn,t)?e.build(Ie(Sn[t])):(qe(br,t)&&e.unexpected(t),e.build(Cr(t)))}function Sc(e){var t=_r(e);return e.build(Cr(t))}function _r(e){Ze(e.peek())||e.unexpected();var t=e.index;do e.next();while(mc(e.peek()));return e.expr.slice(t,e.index)}function bc(e){for(var t="";le(e.peek());)t+=e.nextCh();if(t==="0"){if(e.eat(120)||e.eat(88)){for(t="";vc(e.peek());)t+=e.nextCh();return t||e.unexpected(),e.build(Ie(parseInt(t,16)))}if(e.eat(98)||e.eat(66)){for(t="";e.peek()===48||e.peek()===49;)t+=e.nextCh();return t||e.unexpected(),e.build(Ie(parseInt(t,2)))}}if(e.peek()===46)for(t+=e.nextCh();le(e.peek());)t+=e.nextCh();if(e.peek()===101||e.peek()===69){t+=e.nextCh(),e.peek()!==43&&e.peek()!==45||(t+=e.nextCh());for(var n=!1;le(e.peek());)n=!0,t+=e.nextCh();n||e.unexpected()}return Ze(e.peek())&&e.throw("Variable name cannot start with a number (".concat(t).concat(e.peekCh(),").")),e.peek()!==46&&t!=="."||e.unexpected(),e.build(Ie(parseFloat(t)))}var _n={n:`
`,r:"\r",t:"	"};function _c(e){for(var t,n=e.nextCh(),r="";t=e.nextCh();){if(t===n)return e.build(Ie(r));t==="\\"?(t=e.nextCh(),qe(_n,t)?r+=_n[t]:r+=t):r+=t}e.unexpected()}function Ic(e){var t=e.peek();return le(t)||t===46?bc(e):t===39||t===34?_c(e):Ze(t)?Cc(e):void e.unexpected()}function Tc(e){for(var t,n=Ic(e);t=e.peek();)if(t!==91){if(!e.eat(46))break;n=In(e,n)}else n=In(e,n,!0);return n}function In(e,t,n){var r;return n===void 0&&(n=!1),n?(e.expect(91),r=Ir(e),e.expect(93)):r=Sc(e),e.build({type:"MemberExpression",object:t,property:r,computed:n})}function Ir(e){return Tc(e)}function xc(e){return{expr:e,index:0,peek:function(){return this.expr.charCodeAt(this.index)},peekCh:function(){return this.expr.charAt(this.index)},next:function(){this.index+=1},nextCh:function(){return this.index+=1,this.expr.charAt(this.index-1)},eat:function(t){return this.peek()===t&&(this.next(),this.skipWhitespace(),!0)},expect:function(t){this.eat(t)||this.unexpected()},skip:function(t){this.index+=t,this.skipWhitespace()},skipWhitespace:function(){for(var t=e.charCodeAt(this.index);t===32||t===9||t===13||t===10;)this.index+=1,t=e.charCodeAt(this.index);return this.index},build:function(t){return this.skipWhitespace(),t},unexpected:function(t){throw!t&&this.index>=e.length?this.throw("Unexpected end of input."):this.throw("Unexpected token '".concat(t||this.peekCh(),"'."))},throw:function(t){throw new SyntaxError("".concat(t," (1:").concat(this.index,")"))}}}function kc(e){var t=xc(e.trim()),n=Ir(t);return t.index!==t.expr.length&&t.unexpected(),n}var Ac=["constrcutor","prototype","__proto__"];function Ec(e,t,n){n===void 0&&(n={});for(var r=n.protectedKeys||Ac,i=n.set||Pc,o=0,a=Object.keys(t);o<a.length;o++){var c=a[o];if(!_e(r,c))if(_e(c,"[")||_e(c,"."))try{var l=Tr(kc(c),r||[]);l?Mc(e,l,t[c],i):i(e,c,t[c])}catch{i(e,c,t[c])}else i(e,c,t[c])}}function Tr(e,t,n){if(t===void 0&&(t=[]),n===void 0&&(n=[]),e.type==="Identifier")return n.unshift(e.name),n;if(e.type==="MemberExpression"){var r=e.object,i=e.property;if(e.computed){if(i.type!=="Literal")return;var o=i.value;if(_e(t,o))return;n.unshift(o)}else{if(i.type!=="Identifier")return;var a=i.name;if(_e(t,a))return;n.unshift(a)}return Tr(r,t,n)}}function Mc(e,t,n,r){for(var i=e,o=0,a=t.length-1;o<a;o++){var c=t[o];qe(i,c)&&gc(i[c])||r(i,c,typeof t[o+1]=="string"?{}:[]),i=i[c]}return r(i,t[t.length-1],n),i}function Pc(e,t,n){e[t]=n}function qt(e){if(Array.isArray(e))return e.map(qt);if(e==null||typeof e!="object")return e;const t={};for(const n of Object.keys(e))t[n]=qt(e[n]);return t}const xr=new WeakMap;function Rc(e,t){xr.set(e,t)}function Bc(e){return xr.get(e)}function Dc(e){return new Promise((t,n)=>{C.WWOpenData.createOpenSessionInjector(e,(r,i)=>{r||!i?n(r||new Error("System error")):t(i)})})}function Lc(e){return Object.keys(e).filter(t=>typeof e[t]=="function")}function Wc(e){return Object.entries(e).reduce((t,[n,r])=>(typeof r!="function"&&(t[n]=r),t),{})}const kr="https://open.work.weixin.qq.com",Tn=`${kr}/wwopen/ww-open-data-frame`,Oc=["constructor","prototype","__proto__","__ob__"];function Nc(e){const t=M?mr():void 0;let n=r();async function r(){if(M)try{return await t,Dc({url:Tn})}catch(o){throw x(e==null?void 0:e.onError,o),x(e==null?void 0:e.handleError,o),o}}async function i(o){if(!M)return;const a=await n;a&&a(o)}return{createOpenDataFrame:function(o){if(!o.template)throw new Error("options.template is required");const a=Ke(o.el),c=t==null?void 0:t.then(()=>{var d;return(d=C==null?void 0:C.WWOpenData)==null?void 0:d.registerOpenFrame(a)}),{subscribe:l,handleMessage:h}=yr(),{invoke:v,dispose:g}=Qe(a,kr,h),f={el:a,data:qt(o.data)||{},setData:async function(d){Ec(f.data,d,{protectedKeys:Oc}),await v({type:"update",options:{data:d}})},dispose:function(){g(),c==null||c.then(d=>{var u;(u=C==null?void 0:C.WWOpenData)==null||u.unregisterOpenFrame(d)})},...o.methods};return Rc(f,{frame:f,invoke:v,subscribe:l}),a.src=Tn,l("init",async()=>({id:M?await c:void 0,hooks:Lc(o),options:Wc({...o,el:void 0,methods:void 0,data:f.data}),config:{support:["injectSession"]}})),l("call",d=>{let u=o;return d.kind==="method"&&(u=u.methods),Ye(d,u,f)}),l("injectSession",async()=>{await i(a)}),l("refreshSession",async()=>{n=r(),await i(a)}),l("invokeJsapi",d=>_("wwapp.invokeJsApiByCallInfo",{callInfo:d.callInfo})),l("invokeDownload",d=>{if(!d.url.startsWith("https://open.work.weixin.qq.com/"))throw new Error("Invalid download url");const u=document.createElement("a");u.href=d.url,u.target="_blank",u.style.display="none",u.click()}),l("agentConfig",async()=>{const d=xe();return{url:d,params:await Ge(d)}}),l("modal",async d=>{const u=M?"wecom-window":void 0;return typeof o.handleModal!="function"?{modalType:u}:{modalType:o.handleModal({modalUrl:d.modalUrl,modalSize:d.modalSize})===!1?"iframe":u}}),f}}}function Fc(e){const t=new URL("https://open.work.weixin.qq.com/wwopen/secureGateway/confirm");if(t.searchParams.set("confirm_id",e.confirmId),Zn||en)return void(location.href=t.href);t.searchParams.set("modal","true");const n=wr(t.href,r=>{switch(r.type){case"call":return Ye(r,e);case"close":return;default:throw new Error(`Unknown message type '${r.type}'`)}});return{el:n.el,unmount(){var r;n.dispose(),(r=n.el.parentNode)==null||r.removeChild(n.el)}}}const Vc="2.3.1";var Ht,Jt,Gt,re;(function(e){e.serviceApp="ServiceApp",e.corpApp="CorpApp"})(Ht||(Ht={})),function(e){e.zh="zh",e.en="en"}(Jt||(Jt={})),function(e){e.top="top",e.callback="callback",e.self="self"}(Gt||(Gt={})),function(e){e.middle="middle",e.small="small"}(re||(re={}));const xn={[re.middle]:["480px","416px"],[re.small]:["320px","380px"]};function $c(e){var c;const{width:t,height:n}=jc((c=e.params)==null?void 0:c.panel_size),r=Ke(e.el),{style:i}=r;i.width=t,i.height=n;const{dispose:o}=Qe(r,"https://login.work.weixin.qq.com",l=>{if(l.type==="call")return Ye(l,e);throw new Error(`Unknown message type '${l.type}'`)}),a=new URL("https://login.work.weixin.qq.com/wwlogin/sso/login");for(const l of Object.keys(e.params||{}))a.searchParams.set(l,e.params[l]);return a.searchParams.set("version","2.3.1"),r.src=a.href,{el:r,unmount(){var l;o(),(l=r.parentNode)==null||l.removeChild(r)}}}function jc(e=re.middle){const t=xn[e]||xn[re.middle];return{width:t[0],height:t[1]}}function Be(e){const t=new WeakMap;return(n,...r)=>(t.has(n)||t.set(n,e(n,...r)),t.get(n))}function zc(e){return typeof WeakRef<"u"?new WeakRef(e):{deref:()=>e}}function nn(e){return Be(t=>{const n=Bc(t);if(!n)throw new TypeError("Illegal invocation");return e(n)})}const rn=nn(({frame:e,invoke:t,subscribe:n})=>{const r=new Map,i=new Map;return n("ref.event",o=>{const a=i.get(o.refId);if(a)for(const c of a)c(o.data)}),n("refDispose",o=>{r.delete(o.refId),i.delete(o.refId)}),{get:async function(o){var h;const a=await t({type:"ref.get",name:o});if(!a)return;const c=(h=r.get(a.refId))==null?void 0:h.deref();if(c)return c;const l=function(v){i.has(v)||i.set(v,[]);const g=i.get(v);function f(u,w,m){return t({type:"ref.call",refId:v,name:u,data:w},m)}function d(u){return g.push(u),()=>{const w=g.indexOf(u);w>=0&&g.splice(w,1)}}return{frame:e,invoke:f,subscribe:d}}(a.refId);return r.set(a.refId,zc(l)),l}}});function Ar(e){return typeof Symbol=="function"?Symbol(e):e}class Uc{concat(){if(this.list.length===1)return kn(this.current);const t=new Uint8Array(this.list.reduce((n,r)=>n+r.offset,0));return this.list.reduce((n,r)=>(t.set(new Uint8Array(kn(r)),n),n+r.offset),0),t.buffer}ensureCapacity(t){const n=this.current,r=n.offset+t;if(r<=n.size)return;const i=n.buffer;!i.resizable||r>i.maxByteLength?(this.current=this.createBufferItem(),this.list.push(this.current)):(n.size=Math.min(2*n.size,i.maxByteLength),i.resize(n.size))}createBufferItem(){const t=new ArrayBuffer(65536,{maxByteLength:1048576});return{view:new DataView(t),buffer:t,size:t.byteLength,offset:0}}constructor(){k(this,"list",void 0),k(this,"current",void 0),this.current=this.createBufferItem(),this.list=[this.current]}}function kn(e){return e.offset>=e.size?e.buffer:e.buffer.resizable&&e.buffer.transfer?e.buffer.transfer(e.offset):e.buffer.slice(0,e.offset)}var An;(function(e){e[e.int32=1]="int32",e[e.float64=2]="float64",e[e.boolean=3]="boolean",e[e.null=4]="null",e[e[void 0]=5]="undefined",e[e.valueRef=6]="valueRef"})(An||(An={}));const qc=-Math.pow(2,31),Hc=Math.pow(2,31);function En(){return{buffer:new Uc,values:[],stringIndexMap:new Map}}function Jc(e){return{buffer:e.buffer.concat(),values:e.values}}function D(e,t){e.buffer.ensureCapacity(1);const n=e.buffer.current;n.view.setUint8(n.offset,t),n.offset+=1}function Gc(e,t){e.buffer.ensureCapacity(4);const n=e.buffer.current;n.view.setInt32(n.offset,t),n.offset+=4}function Q(e,t){e.buffer.ensureCapacity(4);const n=e.buffer.current;n.view.setUint32(n.offset,t),n.offset+=4}function Kc(e,t){e.buffer.ensureCapacity(8);const n=e.buffer.current;n.view.setFloat64(n.offset,t),n.offset+=8}function Kt(e,t){let n=e.stringIndexMap.get(t);n||(n=e.values.push(t),e.stringIndexMap.set(t,n)),Q(e,n-1)}function Qc(e,t){Q(e,e.values.push(t)-1)}function Yc(e,t){if(t!==null)switch(typeof t){case"number":if(Zc(t)){D(e,1),Gc(e,t);break}D(e,2),Kc(e,t);break;case"string":D(e,6),Kt(e,t);break;case"boolean":D(e,3),D(e,t?1:0);break;case"undefined":D(e,5);break;default:D(e,6),Qc(e,t)}else D(e,4)}function Zc(e){return!!Number.isInteger(e)&&qc<=e&&e<Hc}var Mn,Pn;(function(e){e[e.set=1]="set",e[e.call=2]="call",e[e.dispose=3]="dispose"})(Mn||(Mn={})),function(e){e[e.value=1]="value",e[e.ref=2]="ref"}(Pn||(Pn={}));const F=Ar("__WECOM_REFLECT_ID__"),on=nn(({invoke:e})=>{const t=typeof FinalizationRegistry=="function"?new FinalizationRegistry(function(g){D(a,3),Q(a,g),l()}):null,n=new WeakSet;let r=1;const i=Promise.resolve();let o=!1,a=En();function c(g){n.has(g)?(D(a,2),Q(a,g[F])):(D(a,1),Yc(a,g))}function l(){o||(o=!0,i.then(h))}function h(){o=!1;const g=Jc(a);a=En(),e({type:"reflect.command",commands:g},{serialize:!1,dropResult:!0,transfer:[g.buffer]})}function v(){return r++}return{genReflectId:v,bind:function(g,f=v()){return n.has(g)?g[F]:(g[F]=f,n.add(g),t==null||t.register(g,f),f)},set:function(g,f,d){const u=g[F];if(!u)throw new TypeError("Illegal invocation");D(a,1),Q(a,u),Kt(a,f),c(d),l()},call:function(g,f,d,u){const w=g[F];if(!w)throw new TypeError("Illegal invocation");D(a,2),Q(a,w),Kt(a,f),Q(a,(u?u[F]:0)??0),Q(a,d.length),d.forEach(c),l()}}});function Xc(e,t){return t.get?t.get.call(e):t.value}function Er(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function S(e,t){return Xc(e,Er(e,t,"get"))}function eu(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function W(e,t,n){eu(e,t),t.set(e,n)}function tu(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}function O(e,t,n){return tu(e,Er(e,t,"set"),n),n}const Qt=new WeakMap,Yt=new WeakMap;function De(e,t){Qt.set(e,t),Yt.set(t,e)}function Mr(e){return Qt.has(e)?Qt.get(e):e}function Pr(e){return Yt.has(e)?Yt.get(e):e}const nu="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";let je=null;function ru(){return je||(je=new Image,je.src=nu),je}var it=new WeakMap,ze=new WeakMap,ot=new WeakMap;let iu=F;class ou{get src(){return S(this,it)}get loading(){return!S(this,ze)}get complete(){return S(this,ze)}get error(){return S(this,ot)}__handleSettled(t){O(this,ze,!0),O(this,ot,t),t?x(this.onerror,t):x(this.onload,void 0)}constructor(t){k(this,iu,void 0),k(this,"onload",void 0),k(this,"onerror",void 0),W(this,it,{writable:!0,value:void 0}),W(this,ze,{writable:!0,value:!1}),W(this,ot,{writable:!0,value:void 0}),O(this,it,t),De(this,ru())}}const au=nn(({frame:e,invoke:t,subscribe:n})=>{const r=on(e),i=new Map;function o(a,c){return typeof a=="string"?{type:"url",src:a}:{type:"arraybuffer",data:a,mime:c}}return n("image.settled",a=>{const c=i.get(a.refId);i.delete(a.refId),c&&c(a)}),{createImage:function(a,c){const l=new ou(a),h=r.bind(l);return t({type:"image.load",refId:h,data:o(a,c)},{serialize:typeof a=="string"}),i.set(h,v=>{l.__handleSettled(v.error)}),l}}}),su=Be(e=>{const t=new Map;return e.subscribe(n=>{if(n.type!=="event.trigger")return;const r=t.get(`${n.capture}|${n.name}`);if(!(r!=null&&r.size))return;const i=cu(n.event);for(const o of Array.from(r))x(o,i)}),{addListener:function(n,r,i){const o=typeof i=="boolean"?i:!!(i!=null&&i.capture);t.has(`${o}|${n}`)||t.set(`${o}|${n}`,new Set);const a=t.get(`${o}|${n}`);a.size||e.invoke("event.subscribe",{name:n,capture:o}),a.add(r)},removeListener:function(n,r,i){const o=typeof i=="boolean"?i:!!(i!=null&&i.capture);if(!t.has(`${o}|${n}`))return;const a=t.get(`${o}|${n}`);a.delete(r),a.size||e.invoke("event.unsubscribe",{name:n,capture:o})}}});function cu(e){const t=new CustomEvent(e.type,{detail:e.detail});for(const n of Object.keys(e))n in t||(t[n]=e[n]);return Object.defineProperties(t,{target:{value:e.target},currentTarget:{value:e.currentTarget}}),t}var at=new WeakMap,st=new WeakMap;let uu=F;class lu{setTransform(t){S(this,st).setTransform(t),S(this,at).call(this,"setTransform",[t])}constructor(t,n){k(this,uu,void 0),W(this,at,{writable:!0,value:void 0}),W(this,st,{writable:!0,value:void 0}),O(this,at,t),O(this,st,n),t.bind(this),De(this,n)}}var ct=new WeakMap,ut=new WeakMap;let du=F;class lt{addColorStop(t,n){S(this,ut).addColorStop(t,n),S(this,ct).call(this,"addColorStop",[t,n])}constructor(t,n){k(this,du,void 0),W(this,ct,{writable:!0,value:void 0}),W(this,ut,{writable:!0,value:void 0}),O(this,ct,t),O(this,ut,n),t.bind(this),De(this,n)}}const fu=["fillStyle","filter","globalAlpha","globalCompositeOperation","imageSmoothingEnabled","imageSmoothingQuality","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","strokeStyle"],pu=["direction","font","fontKerning","fontStretch","fontVariantCaps","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","textAlign","textBaseline","textRendering","wordSpacing"],hu=["arc","arcTo","beginPath","bezierCurveTo","clip","closePath","ellipse","lineTo","moveTo","quadraticCurveTo","rect","reset","resetTransform","restore","rotate","roundRect","save","scale","setLineDash","setTransform","transform","translate"],gu=["clearRect","drawFocusIfNeeded","drawImage","fill","fillRect","fillText","stroke","strokeRect","strokeText"],mu=["getContextAttributes","getLineDash","getTransform","isContextLost","isPointInPath","isPointInStroke","measureText"],vu=[["createConicGradient",lt],["createLinearGradient",lt],["createPattern",lu],["createRadialGradient",lt]],j=Ar("__WECOM_INTERNAL__"),yu=Be((e,t,n)=>new Rr(e,t,n));let wu=j,Cu=F;class Rr{constructor(t,n,r){k(this,"canvas",void 0),k(this,wu,void 0),k(this,Cu,void 0),this.canvas=t,this[j]={store:n,native:r,props:Object.create(null)},n.bind(this),De(this,r)}}const he=Rr.prototype;for(const e of fu)Object.defineProperty(he,e,{configurable:!0,enumerable:!0,get(){const{native:t,props:n}=this[j];return n[e]??Pr(t[e])},set(t){const{store:n,props:r}=this[j];r[e]=Mr(t),n.set(this,e,t)}});for(const e of pu)Object.defineProperty(he,e,{configurable:!0,enumerable:!0,get(){return Pr(this[j].native[e])},set(t){const{store:n,native:r}=this[j];r[e]=Mr(t),n.set(this,e,t)}});for(const e of mu)he[e]=function(...t){const{native:n}=this[j];return an(n,e,t)};for(const e of hu)he[e]=function(...t){const{store:n,native:r}=this[j];an(r,e,t),n.call(this,e,t)};for(const e of gu)he[e]=function(...t){const{store:n}=this[j];n.call(this,e,t)};for(const[e,t]of vu)he[e]=function(...n){const{store:r,native:i}=this[j],o=an(i,e,n),a=new t(r,o);return r.call(this,e,n,a),a};function an(e,t,n){switch(n.length){case 1:return e[t](n[0]);case 2:return e[t](n[0],n[1]);case 3:return e[t](n[0],n[1],n[2]);case 4:return e[t](n[0],n[1],n[2],n[3]);case 5:return e[t](n[0],n[1],n[2],n[3],n[4]);case 6:return e[t](n[0],n[1],n[2],n[3],n[4],n[5]);default:return e[t](...n)}}var K=new WeakMap,Z=new WeakMap,dt=new WeakMap,Ue=new WeakMap,oe=new WeakMap;let Su=F;class Br{get width(){return S(this,K).width}set width(t){S(this,K).width=t,S(this,Z).set(this,"width",t)}get height(){return S(this,K).height}set height(t){S(this,K).height=t,S(this,Z).set(this,"height",t)}createImage(t,n){return S(this,dt).createImage(t,n)}getContext(t,n){if(t!=="2d")throw new Error(`Failed to execute 'getContext' on 'FrameCanvas': The provided value '${t}' is not a valid enum value of type RenderingContextType`);if(S(this,oe))return S(this,oe);const r=S(this,K).getContext(t,n);return O(this,oe,yu(this,S(this,Z),r)),S(this,Z).call(this,"getContext",[t,n],S(this,oe)),S(this,oe)}addEventListener(t,n,r){S(this,Ue).addListener(t,n,r)}removeEventListener(t,n,r){S(this,Ue).removeListener(t,n,r)}constructor(t,n,r){k(this,Su,void 0),W(this,K,{writable:!0,value:void 0}),W(this,Z,{writable:!0,value:void 0}),W(this,dt,{writable:!0,value:void 0}),W(this,Ue,{writable:!0,value:void 0}),W(this,oe,{writable:!0,value:void 0}),O(this,K,new OffscreenCanvas(r.width,r.height)),O(this,Z,on(t.frame)),S(this,Z).bind(this,n),O(this,dt,au(t.frame)),O(this,Ue,su(t)),De(this,S(this,K))}}const ye=new WeakMap,bu=Be(e=>{const{genReflectId:t}=on(e.frame);return t()});async function _u(e,t){const{get:n}=rn(e),r=await n(t);if(!r)return;if(ye.has(r))return ye.get(r);const i=bu(r),o=await r.invoke("bind",{refId:i});return o?(ye.has(r)||ye.set(r,new Br(r,i,o)),ye.get(r)):void 0}const Iu=Be(e=>({scrollTo(t){e.invoke("scrollTo",t)},scrollIntoView(t,n){e.invoke("scrollIntoView",{selector:t,options:n})}}));async function Tu(e,t){const{get:n}=rn(e),r=await n(t);if(r)return Iu(r)}async function xu(e,t,n){const{get:r}=rn(e),i=await r(t);if(i)return i.invoke("nodeInfo.get",{fields:n})}function ku(e){return Eu(Au(e))}function Au(e){return Pu(Ru(Mu(e),8*e.length))}function Eu(e){const t="0123456789abcdef";let n,r="";for(let i=0;i<e.length;i++)n=e.charCodeAt(i),r+=t.charAt(n>>>4&15)+t.charAt(15&n);return r}function Mu(e){const t=new Array(e.length>>2);for(let n=0;n<t.length;n++)t[n]=0;for(let n=0;n<8*e.length;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<24-n%32;return t}function Pu(e){let t="";for(let n=0;n<32*e.length;n+=8)t+=String.fromCharCode(e[n>>5]>>>24-n%32&255);return t}function Ru(e,t){e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;const n=new Array(80);let r=1732584193,i=-271733879,o=-1732584194,a=271733878,c=-1009589776;for(let l=0;l<e.length;l+=16){const h=r,v=i,g=o,f=a,d=c;for(let u=0;u<80;u++){n[u]=u<16?e[l+u]:ft(n[u-3]^n[u-8]^n[u-14]^n[u-16],1);const w=U(U(ft(r,5),Bu(u,i,o,a)),U(U(c,n[u]),Du(u)));c=a,a=o,o=ft(i,30),i=r,r=w}r=U(r,h),i=U(i,v),o=U(o,g),a=U(a,f),c=U(c,d)}return[r,i,o,a,c]}function Bu(e,t,n,r){return e<20?t&n|~t&r:e<40?t^n^r:e<60?t&n|t&r|n&r:t^n^r}function Du(e){return e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514}function U(e,t){const n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function ft(e,t){return e<<t|e>>>32-t}function Lu(e){let t=e;typeof e=="string"&&(t={ticket:e});const n=t.nonceStr||vr(),r=t.timestamp||Math.floor(Date.now()/1e3),i=t.url||J().split("#")[0];return{timestamp:r,nonceStr:n,signature:ku(`jsapi_ticket=${t.ticket}&noncestr=${n}&timestamp=${r}&url=${i}`)}}const Wu={isWeChat:Xt,isWeCom:M},Ou=!0,Rn=Object.freeze(Object.defineProperty({__proto__:null,get CameraMode(){return Tt},get ChooseMessageFileType(){return St},get CreateExternalPaymentType(){return Et},get EntryType(){return Mt},get EnvVersion(){return Rt},FrameCanvas:Br,IS_WECOM_SDK:Ou,get InTalkType(){return Lt},get InputCorpGroupContactMode(){return Ot},get InputCorpGroupContactType(){return Nt},get LiveType(){return xt},get LocationType(){return wt},get NetworkType(){return Ct},get OAType(){return zt},get OaExtDataType(){return Ut},get OpenAppManagePageType(){return Pt},get OpenUserProfileType(){return Bt},get PrintFileIdType(){return Dt},get ProductViewType(){return At},get Proximity(){return yt},SDK_VERSION:Vc,get ScanQRCodeType(){return Wt},get SelectEnterpriseContactMode(){return Ft},get SelectEnterpriseContactType(){return Vt},get SelectExternalContactType(){return $t},get SelectPrivilegedContactMode(){return jt},get SizeType(){return _t},get SourceType(){return It},get TempFileType(){return bt},get WWLoginLangType(){return Jt},get WWLoginPanelSizeType(){return re},get WWLoginRedirectType(){return Gt},get WWLoginType(){return Ht},get WedocSelectedFileType(){return kt},addCard:Ka,addDevice:ns,checkJsApi:rs,checkSchedule:os,chooseCard:Qa,chooseImage:ia,chooseInvoice:as,chooseMessageFile:na,chooseWXPay:es,claimClassAdmin:ss,closeBLEConnection:vo,closeBluetoothAdapter:xo,closeWindow:Ra,connectWifi:Qo,consumeAndShareCard:Za,createBLEConnection:mo,createChatWithMsg:cs,createCorpGroupChat:us,createDoc:_a,createExternalPayment:ls,createJSAPIPanel:pc,createOpenDataFrameFactory:Nc,createSchoolPayment:ds,createScrollViewContext:Tu,createWWLoginPanel:$c,discoverDevice:fs,downloadImage:sa,downloadLivingReplay:Sa,downloadVoice:va,ensureAgentConfigReady:Ee,ensureConfigReady:fo,ensureCorpConfigReady:Je,enterHWOpenTalk:ps,enterpriseVerify:hs,env:Wu,getApprovalSelectedItems:gs,getBLEDeviceCharacteristics:Co,getBLEDeviceServices:wo,getBeacons:No,getBluetoothAdapterState:ko,getBluetoothDevices:Po,getCanvas:_u,getClipboardData:Lo,getConnectedBluetoothDevices:Bo,getConnectedWifi:ea,getContext:gr,getCurCorpGroupChat:ms,getCurCorpGroupContact:vs,getCurExternalChat:ys,getCurExternalContact:ws,getLocalFileData:ra,getLocalImgData:ca,getLocation:jo,getNetworkType:Ho,getNodeInfo:xu,getShareInfo:Cs,getSignature:Lu,getVerifyParams:rr,getWifiList:Yo,hideAllNonBaseMenuItem:La,hideChatAttachmentMenu:Ss,hideMenuItems:Ba,hideOptionMenu:Ma,initOpenData:mr,invoke:_,get isWeixinJSBridgeReady(){return ke},launchMiniprogram:bs,navigateToAddCustomer:Is,navigateToKfChat:Ts,notifyBLECharacteristicValueChange:_o,on:A,onBLECharacteristicValueChange:Io,onBLEConnectionStateChange:yo,onBeaconServiceChange:Vo,onBeaconUpdate:Fo,onBluetoothAdapterStateChange:Ao,onBluetoothDeviceFound:Ro,onGetWifiList:Zo,onHistoryBack:Ea,onLocationChange:qo,onMenuShareAppMessage:Fa,onMenuShareQQ:ja,onMenuShareQZone:Ua,onMenuShareTimeline:Va,onMenuShareWechat:$a,onMenuShareWeibo:za,onNetworkStatusChange:Jo,onSearchBeacons:go,onUserCaptureScreen:Na,onVoicePlayEnd:ga,onVoiceRecordEnd:da,get onWeixinJSBridgeReady(){return He},onWifiConnected:Xo,openAddress:xs,openAppComment:ks,openAppDeviceDataAuth:As,openAppManage:Es,openAppPurchase:Ms,openBluetoothAdapter:To,openBusinessView:Ps,openCard:Ya,openDefaultBrowser:Oa,openDeviceProfile:Rs,openEnterpriseChat:Bs,openEnterpriseRedPacket:ts,openExistedChatWithMsg:Ds,openLocation:$o,openProductSpecificView:Xa,openThirdAppServiceChat:Ls,openUserProfile:Ws,pauseVoice:pa,playVoice:fa,previewFile:ta,previewImage:oa,printFile:Os,queryCurrHWOpenTalk:Ns,readBLECharacteristicValue:So,refundExternalPayment:Fs,register:dr,replayLiving:Ca,saveApprovalSelectedItems:Vs,scanQRCode:$s,selectCorpGroupContact:js,selectEnterpriseContact:zs,selectExternalContact:Us,selectPrivilegedContact:qs,sendChatMessage:Hs,setClipboardData:Do,setKeepScreenOn:nc,setShareAttr:Js,shareAppMessage:qa,shareToExternalChat:Gs,shareToExternalContact:Ks,shareToExternalMoments:Qs,shareWechatMessage:Ha,showAllNonBaseMenuItem:Wa,showMenuItems:Da,showOptionMenu:Pa,showSecurityGatewayConfirmModal:Fc,startAutoLBS:zo,startBeaconDiscovery:Wo,startBluetoothDevicesDiscovery:Eo,startLiving:wa,startMeeting:ba,startRecord:ua,startSearchBeacons:po,startWecast:Ys,startWifi:Go,stopAutoLBS:Uo,stopBeaconDiscovery:Oo,stopBluetoothDevicesDiscovery:Mo,stopRecord:la,stopSearchBeacons:ho,stopVoice:ha,stopWifi:Ko,thirdPartyOpenPage:Zs,translateVoice:ya,updateAppMessageShareData:Ga,updateCorpGroupChat:Xs,updateEnterpriseChat:ec,updateMomentsSetting:tc,updateTimelineShareData:Ja,uploadImage:aa,uploadVoice:ma,wedocSelectDoc:Ia,wedriveSelectDir:Ta,wedriveSelectFile:xa,wedriveSelectFileForDownload:Aa,wedriveSelectFileForShare:ka,writeBLECharacteristicValue:bo},Symbol.toStringTag,{value:"Module"})),Nu=e=>(ii("data-v-7c3ba11e"),e=e(),oi(),e),Fu={style:{width:"100%",padding:"6px","box-sizing":"border-box"}},Vu=Nu(()=>dn("div",{class:"footer"},[fn(": "),dn("a",{href:"tel:19136190071"},"19136190071"),fn(" version:2.8")],-1)),$u=de({__name:"index",setup(e){xi({title:""});const t=L(0),n=async()=>{const r={Url:window.location.href},{Data:i}=await ki.GetJsConfigAjax(r);dr({corpId:i.agentDict.corpid,agentId:i.agentDict.agentid,jsApiList:["getContext","sendChatMessage"],getConfigSignature:()=>({nonceStr:i.configDict.nonceStr,signature:i.configDict.signature,timestamp:i.configDict.timestamp}),getAgentConfigSignature:()=>({nonceStr:i.agentDict.nonceStr,signature:i.agentDict.signature,timestamp:i.agentDict.timestamp}),onConfigSuccess:()=>{alert("success")},onConfigFail:async()=>{alert(" onConfigFail fail")},onAgentConfigFail:async()=>{alert("onAgentConfigFail fail")}}),await gr({success:o=>{(o==null?void 0:o.entry)!=="single_chat_tools"&&(_i(""),window.close())}})};return Ln(async()=>await n()),(r,i)=>{const o=Ji,a=$i;return ni(),ri("div",Fu,[T(a,{active:t.value,"onUpdate:active":i[0]||(i[0]=c=>t.value=c),"lazy-render":""},{default:Xe(()=>[T(o,{title:""},{default:Xe(()=>[T(Ai,{ww:Rn})]),_:1}),T(o,{title:""},{default:Xe(()=>[T(Ei,{ww:Rn})]),_:1})]),_:1},8,["active"]),Vu])}}}),Zu=ai($u,[["__scopeId","data-v-7c3ba11e"]]);export{Zu as default};
