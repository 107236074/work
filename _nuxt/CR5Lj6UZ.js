import{d as I,z as o,G as k,H as j,u as A,r as y,o as N,t as a,v as c,E as n,x as _,A as f,F as b,I as w,J as C,K as D,C as G,D as K,_ as W}from"./C8-PzCqa.js";import{u as q}from"./B84cnwqC.js";import{F as P}from"./CugIzq5t.js";import{u as z,B as E,s as H,a as L,b as M,c as J}from"./DIaV-xco.js";import{c as Q,t as X}from"./BuLWTQJ-.js";import{s as Y,a as Z,I as ee}from"./BPOvu2V4.js";import"./8UUFJmno.js";const[te,B]=Q("cell-group"),oe={title:String,inset:Boolean,border:X};var se=I({name:te,inheritAttrs:!1,props:oe,setup(i,{slots:r,attrs:s}){const h=()=>{var l;return o("div",j({class:[B({inset:i.inset}),{[E]:i.border&&!i.inset}]},s,z()),[(l=r.default)==null?void 0:l.call(r)])},p=()=>o("div",{class:B("title",{inset:i.inset})},[r.title?r.title():i.title]);return()=>i.title||r.title?o(k,null,[p(),h()]):h()}});const le=[{id:1,title:"发布不适当内容对我造成骚扰"},{id:2,title:"存在欺诈骗钱行为"},{id:3,title:"此账号可能被盗用"},{id:4,title:"存在侵权行为"},{id:5,title:"发布仿冒品信息"},{id:6,title:"冒充他人"},{id:7,title:"侵犯未成年人权益"},{id:8,title:"粉丝无底线追星行为"}],ie=[{id:1,title:"色情"},{id:2,title:"违法犯罪及违禁品"},{id:3,title:"赌博"},{id:4,title:"政治谣言"},{id:5,title:"暴恐血腥"},{id:6,title:"自杀自残"},{id:7,title:"其他违规内容"}],ne=[{id:1,title:"金融诈骗（贷款/提额/代开/套现等）"},{id:2,title:"网络兼职刷单诈骗"},{id:3,title:"返利诈骗"},{id:4,title:"网络交友诈骗"},{id:5,title:"虚假投资理财诈骗"},{id:6,title:"赌博诈骗"},{id:7,title:"收款不发货"},{id:8,title:"仿冒他人诈骗"},{id:9,title:"免费送诈骗"},{id:10,title:"游戏相关诈骗（代练/充值等）"},{id:11,title:"其他诈骗行为"}],g=i=>(G("data-v-0d0cf66e"),i=i(),K(),i),ae={class:"content"},re={key:0,class:"step-box"},de=g(()=>_("div",{class:"tips"},"请选择投诉该账号的原因:",-1)),ue={class:"options"},ce={key:1,class:"step-box"},_e=g(()=>_("div",{class:"tips"},"请选择哪一类违规内容:",-1)),pe={class:"options"},me={key:2,class:"step-box"},fe=g(()=>_("div",{class:"tips"},"请选择哪一类违规内容:",-1)),ve={class:"options"},he={key:3,style:{width:"100%","box-sizing":"border-box"}},be={style:{margin:"16px"}},ke=g(()=>_("span",{style:{"font-size":"16px","font-weight":"700"}},"提 交",-1)),ge=I({__name:"real-page",setup(i){const r=A(),s=y(10),h=e=>/^1\d{10}$/.test(e),p=y([]),l=y({Kind:["",""],PhoneNumber:"",Content:"",Photos:[],WorkerId:0}),R=e=>{switch(l.value.Kind[0]=e.title,e.id){case 1:s.value=21;break;case 2:s.value=22;break;default:s.value=90}},V=e=>{l.value.Kind[1]=e.title,s.value=90},U=async()=>{p.value.length>0?l.value.Photos=p.value.filter(e=>e.objectUrl.startsWith("http")).map(e=>e.objectUrl):l.value.Photos=[],await P.SaveFeedAjax(l.value),await r.push("/result")},F=e=>new Promise((d,m)=>new ee({file:e,quality:.9,maxWidth:1920,maxHeight:1920,mimeType:"image/jpeg",loose:!0,redressOrientation:!0,success:function(u){d(u)},error(u){m(u)}})),O=async e=>{const d=H({message:"图片上传中...",forbidClick:!0}),m=await F(e.file),u=new File([m],e.file.name,{type:e.file.type});let v=new FormData;v.append("file",u);const{Data:x}=await P.UploadPhotoAjax(v);e.objectUrl=x.Url,d.close()};return N(()=>{l.value.WorkerId=Number(r.currentRoute.value.query.id)}),(e,d)=>{const m=L,u=se,v=M,x=Z,S=J,T=Y;return a(),c("div",ae,[n(s)===10?(a(),c("div",re,[de,_("div",ue,[o(u,null,{default:f(()=>[(a(!0),c(k,null,w(n(le),t=>(a(),C(m,{key:t.id,title:t.title,onClick:$=>R(t),"is-link":!0},null,8,["title","onClick"]))),128))]),_:1})])])):b("",!0),n(s)===21?(a(),c("div",ce,[_e,_("div",pe,[o(u,null,{default:f(()=>[(a(!0),c(k,null,w(n(ie),t=>(a(),C(m,{key:t.id,title:t.title,onClick:$=>V(t),"is-link":!0},null,8,["title","onClick"]))),128))]),_:1})])])):b("",!0),n(s)===22?(a(),c("div",me,[fe,_("div",ve,[o(u,null,{default:f(()=>[(a(!0),c(k,null,w(n(ne),t=>(a(),C(m,{key:t.id,title:t.title,onClick:$=>V(t),"is-link":!0},null,8,["title","onClick"]))),128))]),_:1})])])):b("",!0),n(s)==90?(a(),c("div",he,[o(T,{"label-align":"top",onSubmit:U},{default:f(()=>[o(u,{border:""},{default:f(()=>[o(v,{modelValue:n(l).PhoneNumber,"onUpdate:modelValue":d[0]||(d[0]=t=>n(l).PhoneNumber=t),border:!0,name:"PhoneNumber",label:"联系方式(必填)",placeholder:"请输入联系方式",rules:[{validator:h,message:"请输入正确的手机号码"}]},null,8,["modelValue","rules"]),o(v,{name:"Photos",label:"图片证据(选填)",border:!0},{input:f(()=>[o(x,{modelValue:n(p),"onUpdate:modelValue":d[1]||(d[1]=t=>D(p)?p.value=t:null),"max-count":4,"after-read":O},null,8,["modelValue"])]),_:1}),o(v,{modelValue:n(l).Content,"onUpdate:modelValue":d[2]||(d[2]=t=>n(l).Content=t),name:"Content",placeholder:"投诉内容(必填)",rows:"4",type:"textarea",maxlength:"2000",rules:[{required:!0,message:"请填写投诉内容"}]},null,8,["modelValue"])]),_:1}),_("div",be,[o(S,{block:"",color:"#57bc6a","native-type":"submit"},{default:f(()=>[ke]),_:1})])]),_:1})])):b("",!0)])}}}),xe=W(ge,[["__scopeId","data-v-0d0cf66e"]]),ye={style:{width:"100%",margin:"0",padding:"0"}},Ae=I({__name:"index",setup(i){const r=A();return q({title:"投诉/举报"}),N(async()=>{const{Code:s}=await P.GetTenantIdAjax();s!==0&&await r.push({path:"/error"})}),(s,h)=>(a(),c("div",ye,[o(xe)]))}});export{Ae as default};
